{"metadata":{"guid":"ae7ac604-c08b-4fbb-9454-83d0bf1c84df","url":"/v2/streaming_pipelines/ae7ac604-c08b-4fbb-9454-83d0bf1c84df","created_at":"2017-11-16T18:46:43Z","updated_at":"2017-11-16T19:12:07Z","revision":1510859527640},"entity":{"name":"store_events_on_cos","description":"Capture add_to_cart, browsing, checkout, login, logout_with_purchase, and logout_without_purchase clickstream events and save them to Cloud Object Storage.","project_guid":"6d71c059-452b-4e29-989a-49d646de58a7","graph":{"doc_type":"pipeline","version":"1.0","json_schema":"http://www.ibm.com/ibm/wdp/flow-v1.0/pipeline-flow-v1-schema.json","id":"","app_data":{"ui_data":{"name":"store_events_on_cos"}},"primary_pipeline":"primary-pipeline","pipelines":[{"id":"primary-pipeline","runtime":"streams","nodes":[{"id":"messagehub_3srj5c1843i","type":"binding","op":"ibm.streams.sources.messagehub","outputs":[{"id":"target","schema_ref":"schema0","links":[{"node_id_ref":"objectstorage_v2_dhdmsq4o1o6","port_id_ref":"source"}]}],"parameters":{"schema_mapping":[{"name":"customer_id","type":"double","path":"/customer_id"},{"name":"click_event_type","type":"string","length":255,"path":"/click_event_type"},{"name":"product_name","type":"string","length":255,"path":"/product_name"},{"name":"product_category","type":"string","length":255,"path":"/product_category"},{"name":"product_price","type":"double","path":"/product_price"},{"name":"total_price_of_basket","type":"double","path":"/total_price_of_basket"},{"name":"total_number_of_items_in_basket","type":"double","path":"/total_number_of_items_in_basket"},{"name":"total_number_of_distinct_items_in_basket","type":"double","path":"/total_number_of_distinct_items_in_basket"},{"name":"event_time","type":"string","length":255,"path":"/event_time"}]},"connection":{"ref":"bc9166ec-e690-4b7f-a57a-a457da9dc5ec","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"id":"add_to_cart","name":"add_to_cart","type":"topic","path":"/add_to_cart"}}},"app_data":{"ui_data":{"label":"LC_ADD","x_pos":83,"y_pos":-90}}},{"id":"objectstorage_v2_dhdmsq4o1o6","type":"binding","op":"ibm.streams.targets.objectstorage_v2","parameters":{"write_policy":"fileSizeKB","rolling_file_size":"50"},"connection":{"ref":"efa05126-da64-4104-8ba4-0e380dc2f292","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"path":"/wdp-open-beta-test/addtocart_%TIME.csv","asset_types":[],"assets":[],"fields":[],"extended_metadata":[],"first":{"href":"https://api.dataplatform.ibm.com/v2/connections/efa05126-da64-4104-8ba4-0e380dc2f292/assets?project_id=6d71c059-452b-4e29-989a-49d646de58a7&offset=0&limit=100&path=%2Fwdp-open-beta-test%2Faddtocart_%25TIME.csv"},"prev":{"href":"https://api.dataplatform.ibm.com/v2/connections/efa05126-da64-4104-8ba4-0e380dc2f292/assets?project_id=6d71c059-452b-4e29-989a-49d646de58a7&offset=0&limit=100&path=%2Fwdp-open-beta-test%2Faddtocart_%25TIME.csv"},"next":{"href":"https://api.dataplatform.ibm.com/v2/connections/efa05126-da64-4104-8ba4-0e380dc2f292/assets?project_id=6d71c059-452b-4e29-989a-49d646de58a7&offset=100&limit=100&path=%2Fwdp-open-beta-test%2Faddtocart_%25TIME.csv"}}}},"app_data":{"ui_data":{"label":"Cloud Object Storage","x_pos":470,"y_pos":-90}}},{"id":"messagehub_nca9jqvwiyp","type":"binding","op":"ibm.streams.sources.messagehub","outputs":[{"id":"target","schema_ref":"schema1","links":[{"node_id_ref":"objectstorage_v2_a3tndulsh1o","port_id_ref":"source"}]}],"parameters":{"schema_mapping":[{"name":"customer_id","type":"double","path":"/customer_id"},{"name":"click_event_type","type":"string","length":255,"path":"/click_event_type"},{"name":"total_price_of_basket","type":"double","path":"/total_price_of_basket"},{"name":"total_number_of_items_in_basket","type":"double","path":"/total_number_of_items_in_basket"},{"name":"total_number_of_distinct_items_in_basket","type":"double","path":"/total_number_of_distinct_items_in_basket"},{"name":"session_duration","type":"double","path":"/session_duration"},{"name":"event_time","type":"string","length":255,"path":"/event_time"}]},"connection":{"ref":"bc9166ec-e690-4b7f-a57a-a457da9dc5ec","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"id":"checkout","name":"checkout","type":"topic","path":"/checkout"}}},"app_data":{"ui_data":{"label":"LC_CHKO","x_pos":83,"y_pos":100}}},{"id":"objectstorage_v2_a3tndulsh1o","type":"binding","op":"ibm.streams.targets.objectstorage_v2","parameters":{"write_policy":"fileSizeKB","rolling_file_size":"50"},"connection":{"ref":"efa05126-da64-4104-8ba4-0e380dc2f292","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"id":"/wdp-open-beta-test/checkout_%TIME.csv","name":"/wdp-open-beta-test/checkout_%TIME.csv","path":"/wdp-open-beta-test/checkout_%TIME.csv","type":"unknown"}}},"app_data":{"ui_data":{"label":"Cloud Object Storage","x_pos":470,"y_pos":100}}},{"id":"messagehub_wdqp2qhkddi","type":"binding","op":"ibm.streams.sources.messagehub","outputs":[{"id":"target","schema_ref":"schema2","links":[{"node_id_ref":"objectstorage_v2_f1e5la3q0u","port_id_ref":"source"}]}],"parameters":{"schema_mapping":[{"name":"customer_id","type":"double","path":"/customer_id"},{"name":"click_event_type","type":"string","length":255,"path":"/click_event_type"},{"name":"total_price_of_basket","type":"double","path":"/total_price_of_basket"},{"name":"total_number_of_items_in_basket","type":"double","path":"/total_number_of_items_in_basket"},{"name":"total_number_of_distinct_items_in_basket","type":"double","path":"/total_number_of_distinct_items_in_basket"},{"name":"event_time","type":"string","length":255,"path":"/event_time"}]},"connection":{"ref":"bc9166ec-e690-4b7f-a57a-a457da9dc5ec","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"id":"browsing","name":"browsing","type":"topic","path":"/browsing"}}},"app_data":{"ui_data":{"label":"LC_BRWS","x_pos":83,"y_pos":0}}},{"id":"objectstorage_v2_f1e5la3q0u","type":"binding","op":"ibm.streams.targets.objectstorage_v2","parameters":{"write_policy":"fileSizeKB","rolling_file_size":"50"},"connection":{"ref":"efa05126-da64-4104-8ba4-0e380dc2f292","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"id":"/wdp-open-beta-test/browsing_%TIME.csv","name":"/wdp-open-beta-test/browsing_%TIME.csv","path":"/wdp-open-beta-test/browsing_%TIME.csv","type":"unknown"}}},"app_data":{"ui_data":{"label":"Cloud Object Storage","x_pos":470,"y_pos":0}}},{"id":"messagehub_ac78uq5m4jd","type":"binding","op":"ibm.streams.sources.messagehub","outputs":[{"id":"target","schema_ref":"schema3","links":[{"node_id_ref":"objectstorage_v2_8xk6rozwmrm","port_id_ref":"source"}]}],"parameters":{"schema_mapping":[{"name":"customer_id","type":"double","path":"/customer_id"},{"name":"click_event_type","type":"string","length":255,"path":"/click_event_type"},{"name":"total_price_of_basket","type":"double","path":"/total_price_of_basket"},{"name":"total_number_of_items_in_basket","type":"double","path":"/total_number_of_items_in_basket"},{"name":"total_number_of_distinct_items_in_basket","type":"double","path":"/total_number_of_distinct_items_in_basket"},{"name":"event_time","type":"string","length":255,"path":"/event_time"}]},"connection":{"ref":"bc9166ec-e690-4b7f-a57a-a457da9dc5ec","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"id":"login","name":"login","type":"topic","path":"/login"}}},"app_data":{"ui_data":{"label":"LC_LI","x_pos":80,"y_pos":200}}},{"id":"objectstorage_v2_8xk6rozwmrm","type":"binding","op":"ibm.streams.targets.objectstorage_v2","parameters":{"write_policy":"fileSizeKB","rolling_file_size":"50"},"connection":{"ref":"efa05126-da64-4104-8ba4-0e380dc2f292","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"id":"/wdp-open-beta-test/login_%TIME.csv","name":"/wdp-open-beta-test/login_%TIME.csv","path":"/wdp-open-beta-test/login_%TIME.csv","type":"unknown"}}},"app_data":{"ui_data":{"label":"Cloud Object Storage","x_pos":470,"y_pos":200}}},{"id":"messagehub_7zzt692nbki","type":"binding","op":"ibm.streams.sources.messagehub","outputs":[{"id":"target","schema_ref":"schema4","links":[{"node_id_ref":"objectstorage_v2_esf4vpz5odq","port_id_ref":"source"}]}],"parameters":{"schema_mapping":[{"name":"customer_id","type":"double","path":"/customer_id"},{"name":"click_event_type","type":"string","length":255,"path":"/click_event_type"},{"name":"total_price_of_basket","type":"double","path":"/total_price_of_basket"},{"name":"total_number_of_items_in_basket","type":"double","path":"/total_number_of_items_in_basket"},{"name":"total_number_of_distinct_items_in_basket","type":"double","path":"/total_number_of_distinct_items_in_basket"},{"name":"session_duration","type":"double","path":"/session_duration"},{"name":"event_time","type":"string","length":255,"path":"/event_time"}]},"connection":{"ref":"bc9166ec-e690-4b7f-a57a-a457da9dc5ec","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"id":"logout_with_purchase","name":"logout_with_purchase","type":"topic","path":"/logout_with_purchase"}}},"app_data":{"ui_data":{"label":"LC_PRCH","x_pos":80,"y_pos":292}}},{"id":"objectstorage_v2_esf4vpz5odq","type":"binding","op":"ibm.streams.targets.objectstorage_v2","parameters":{"write_policy":"fileSizeKB","rolling_file_size":"50"},"connection":{"ref":"efa05126-da64-4104-8ba4-0e380dc2f292","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"path":"/wdp-open-beta-test/logoutwithpurchase_%TIME.csv","asset_types":[],"assets":[],"fields":[],"extended_metadata":[],"first":{"href":"https://api.dataplatform.ibm.com/v2/connections/efa05126-da64-4104-8ba4-0e380dc2f292/assets?project_id=6d71c059-452b-4e29-989a-49d646de58a7&offset=0&limit=100&path=%2Fwdp-open-beta-test%2Flogoutwithpurchase_%25TIME.csv"},"prev":{"href":"https://api.dataplatform.ibm.com/v2/connections/efa05126-da64-4104-8ba4-0e380dc2f292/assets?project_id=6d71c059-452b-4e29-989a-49d646de58a7&offset=0&limit=100&path=%2Fwdp-open-beta-test%2Flogoutwithpurchase_%25TIME.csv"},"next":{"href":"https://api.dataplatform.ibm.com/v2/connections/efa05126-da64-4104-8ba4-0e380dc2f292/assets?project_id=6d71c059-452b-4e29-989a-49d646de58a7&offset=100&limit=100&path=%2Fwdp-open-beta-test%2Flogoutwithpurchase_%25TIME.csv"}}}},"app_data":{"ui_data":{"label":"Cloud Object Storage","x_pos":470,"y_pos":292}}},{"id":"messagehub_2m6lg8bion3","type":"binding","op":"ibm.streams.sources.messagehub","outputs":[{"id":"target","schema_ref":"schema5","links":[{"node_id_ref":"objectstorage_v2_j0yb77ahf8","port_id_ref":"source"}]}],"parameters":{"schema_mapping":[{"name":"customer_id","type":"double","path":"/customer_id"},{"name":"click_event_type","type":"string","length":255,"path":"/click_event_type"},{"name":"total_price_of_basket","type":"double","path":"/total_price_of_basket"},{"name":"total_number_of_items_in_basket","type":"double","path":"/total_number_of_items_in_basket"},{"name":"total_number_of_distinct_items_in_basket","type":"double","path":"/total_number_of_distinct_items_in_basket"},{"name":"session_duration","type":"double","path":"/session_duration"},{"name":"event_time","type":"string","length":255,"path":"/event_time"}]},"connection":{"ref":"bc9166ec-e690-4b7f-a57a-a457da9dc5ec","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"id":"logout_without_purchase","name":"logout_without_purchase","type":"topic","path":"/logout_without_purchase"}}},"app_data":{"ui_data":{"label":"LC_NOPRCH","x_pos":80,"y_pos":390}}},{"id":"objectstorage_v2_j0yb77ahf8","type":"binding","op":"ibm.streams.targets.objectstorage_v2","parameters":{"write_policy":"fileSizeKB","rolling_file_size":"50"},"connection":{"ref":"efa05126-da64-4104-8ba4-0e380dc2f292","project_ref":"6d71c059-452b-4e29-989a-49d646de58a7","properties":{"asset":{"id":"/wdp-open-beta-test/logoutwithoutpurchase_%TIME.csv","name":"/wdp-open-beta-test/logoutwithoutpurchase_%TIME.csv","path":"/wdp-open-beta-test/logoutwithoutpurchase_%TIME.csv","type":"unknown"}}},"app_data":{"ui_data":{"label":"Cloud Object Storage","x_pos":470,"y_pos":390}}}]}],"schemas":[{"id":"schema0","fields":[{"name":"customer_id","type":"double"},{"name":"click_event_type","type":"string"},{"name":"product_name","type":"string"},{"name":"product_category","type":"string"},{"name":"product_price","type":"double"},{"name":"total_price_of_basket","type":"double"},{"name":"total_number_of_items_in_basket","type":"double"},{"name":"total_number_of_distinct_items_in_basket","type":"double"},{"name":"event_time","type":"string"}]},{"id":"schema1","fields":[{"name":"customer_id","type":"double"},{"name":"click_event_type","type":"string"},{"name":"total_price_of_basket","type":"double"},{"name":"total_number_of_items_in_basket","type":"double"},{"name":"total_number_of_distinct_items_in_basket","type":"double"},{"name":"session_duration","type":"double"},{"name":"event_time","type":"string"}]},{"id":"schema2","fields":[{"name":"customer_id","type":"double"},{"name":"click_event_type","type":"string"},{"name":"total_price_of_basket","type":"double"},{"name":"total_number_of_items_in_basket","type":"double"},{"name":"total_number_of_distinct_items_in_basket","type":"double"},{"name":"event_time","type":"string"}]},{"id":"schema3","fields":[{"name":"customer_id","type":"double"},{"name":"click_event_type","type":"string"},{"name":"total_price_of_basket","type":"double"},{"name":"total_number_of_items_in_basket","type":"double"},{"name":"total_number_of_distinct_items_in_basket","type":"double"},{"name":"event_time","type":"string"}]},{"id":"schema4","fields":[{"name":"customer_id","type":"double"},{"name":"click_event_type","type":"string"},{"name":"total_price_of_basket","type":"double"},{"name":"total_number_of_items_in_basket","type":"double"},{"name":"total_number_of_distinct_items_in_basket","type":"double"},{"name":"session_duration","type":"double"},{"name":"event_time","type":"string"}]},{"id":"schema5","fields":[{"name":"customer_id","type":"double"},{"name":"click_event_type","type":"string"},{"name":"total_price_of_basket","type":"double"},{"name":"total_number_of_items_in_basket","type":"double"},{"name":"total_number_of_distinct_items_in_basket","type":"double"},{"name":"session_duration","type":"double"},{"name":"event_time","type":"string"}]}]},"engines":{"streams":{"instance_id":"69affa83-8b8e-414e-8313-6e0838739549"}}}}